<pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">app-box</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">  &lt;</span><span style="color: #B31D28; font-style: italic">content</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">    ðŸ“š &lt;</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt;idle&lt;/</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt; will trigger the deferred loading once the browser</span></span>
<span class="line"><span style="color: #24292E">    &lt;</span><span style="color: #22863A">strong</span><span style="color: #24292E">&gt;has reached an idle state&lt;/</span><span style="color: #22863A">strong</span><span style="color: #24292E">&gt; (detected using the</span></span>
<span class="line"><span style="color: #24292E">    &lt;</span><span style="color: #22863A">a</span></span>
<span class="line"><span style="color: #24292E">      </span><span style="color: #6F42C1">href</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback&quot;</span></span>
<span class="line"><span style="color: #24292E">      &gt;requestIdleCallback&lt;/</span><span style="color: #22863A">a</span></span>
<span class="line"><span style="color: #24292E">    &gt;</span></span>
<span class="line"><span style="color: #24292E">    API under the hood). &lt;</span><span style="color: #22863A">strong</span><span style="color: #24292E">&gt;This is the default behavior&lt;/</span><span style="color: #22863A">strong</span><span style="color: #24292E">&gt; with</span></span>
<span class="line"><span style="color: #24292E">    a defer block.</span></span>
<span class="line"><span style="color: #24292E">  &lt;/</span><span style="color: #B31D28; font-style: italic">content</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">  &lt;</span><span style="color: #B31D28; font-style: italic">content</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">    ðŸ“š &lt;</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt;idle&lt;/</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt; trigger &lt;</span><span style="color: #22863A">strong</span><span style="color: #24292E">&gt;cannot have parameters&lt;/</span><span style="color: #22863A">strong</span><span style="color: #24292E">&gt;.</span></span>
<span class="line"><span style="color: #24292E">  &lt;/</span><span style="color: #B31D28; font-style: italic">content</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">&lt;/</span><span style="color: #22863A">app-box</span><span style="color: #24292E">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6F42C1">@defer </span><span style="color: #24292E">(</span><span style="color: #005CC5">on</span><span style="color: #24292E"> </span><span style="color: #005CC5">idle</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">lazy-on-idle</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">  &lt;</span><span style="color: #22863A">article</span><span style="color: #24292E">&gt;some &lt;</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt;</span><span style="color: #005CC5">&amp;#64;</span><span style="color: #24292E">defer (on idle)&lt;/</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt; content&lt;/</span><span style="color: #22863A">article</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">&lt;/</span><span style="color: #22863A">lazy-on-idle</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">lazy-shared</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">  &lt;</span><span style="color: #22863A">article</span><span style="color: #24292E">&gt;some &lt;</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt;</span><span style="color: #005CC5">&amp;#64;</span><span style="color: #24292E">defer (on idle)&lt;/</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt; content&lt;/</span><span style="color: #22863A">article</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">&lt;/</span><span style="color: #22863A">lazy-shared</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">non-standalone</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">  &lt;</span><span style="color: #22863A">article</span><span style="color: #24292E">&gt;some &lt;</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt;</span><span style="color: #005CC5">&amp;#64;</span><span style="color: #24292E">defer (on idle)&lt;/</span><span style="color: #22863A">code</span><span style="color: #24292E">&gt; content&lt;/</span><span style="color: #22863A">article</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">&lt;/</span><span style="color: #22863A">non-standalone</span><span style="color: #24292E">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">h2</span><span style="color: #24292E">&gt;pipe&lt;/</span><span style="color: #22863A">h2</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #005CC5">{{</span><span style="color: #24292E"> </span><span style="color: #032F62">&#39;Lazy loaded pipe here&#39;</span><span style="color: #24292E"> </span><span style="color: #D73A49">|</span><span style="color: #24292E"> </span><span style="color: #005CC5">StUpIdCaSe</span><span style="color: #24292E"> </span><span style="color: #005CC5">}}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">h2</span><span style="color: #24292E">&gt;directive&lt;/</span><span style="color: #22863A">h2</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">div</span><span style="color: #24292E"> </span><span style="color: #6F42C1">highlight</span><span style="color: #24292E">&gt;lazy loaded directive - I&#39;m highlighted lol ðŸ¥¹&lt;/</span><span style="color: #22863A">div</span><span style="color: #24292E">&gt;</span></span>
<span class="line"><span style="color: #24292E">} </span><span style="color: #6F42C1">@placeholder </span><span style="color: #24292E">(</span><span style="color: #005CC5">minimum</span><span style="color: #24292E"> </span><span style="color: #005CC5">500ms</span><span style="color: #24292E">) { just wait for &lt;</span><span style="color: #22863A">strong</span><span style="color: #24292E">&gt;idle&lt;/</span><span style="color: #22863A">strong</span><span style="color: #24292E">&gt;... }</span></span>
<span class="line"><span style="color: #6F42C1">@loading </span><span style="color: #24292E">(</span><span style="color: #005CC5">after</span><span style="color: #24292E"> </span><span style="color: #005CC5">100ms</span><span style="color: #24292E">; </span><span style="color: #005CC5">minimum</span><span style="color: #24292E"> </span><span style="color: #005CC5">1s</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">&lt;</span><span style="color: #22863A">app-loader</span><span style="color: #24292E"> /&gt;</span></span>
<span class="line"><span style="color: #24292E">} </span><span style="color: #D73A49">@error</span><span style="color: #24292E"> { something went wrong! }</span></span>
<span class="line"></span></code></pre>

<pre class="shiki one-dark-pro" style="background-color: #282c34" tabindex="0"><code><span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">app-box</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">content</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    ðŸ“š &lt;</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt;idle&lt;/</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt; will trigger the deferred loading once the browser</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">strong</span><span style="color: #ABB2BF">&gt;has reached an idle state&lt;/</span><span style="color: #E06C75">strong</span><span style="color: #ABB2BF">&gt; (detected using the</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">a</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #D19A66">href</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback&quot;</span></span>
<span class="line"><span style="color: #ABB2BF">      &gt;requestIdleCallback&lt;/</span><span style="color: #E06C75">a</span></span>
<span class="line"><span style="color: #ABB2BF">    &gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    API under the hood). &lt;</span><span style="color: #E06C75">strong</span><span style="color: #ABB2BF">&gt;This is the default behavior&lt;/</span><span style="color: #E06C75">strong</span><span style="color: #ABB2BF">&gt; with</span></span>
<span class="line"><span style="color: #ABB2BF">    a defer block.</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">content</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">content</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    ðŸ“š &lt;</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt;idle&lt;/</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt; trigger &lt;</span><span style="color: #E06C75">strong</span><span style="color: #ABB2BF">&gt;cannot have parameters&lt;/</span><span style="color: #E06C75">strong</span><span style="color: #ABB2BF">&gt;.</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">content</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">app-box</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">@defer </span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">on</span><span style="color: #ABB2BF"> idle) {</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">lazy-on-idle</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">article</span><span style="color: #ABB2BF">&gt;some &lt;</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt;</span><span style="color: #E06C75">&amp;#64;</span><span style="color: #ABB2BF">defer (on idle)&lt;/</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt; content&lt;/</span><span style="color: #E06C75">article</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">lazy-on-idle</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">lazy-shared</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">article</span><span style="color: #ABB2BF">&gt;some &lt;</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt;</span><span style="color: #E06C75">&amp;#64;</span><span style="color: #ABB2BF">defer (on idle)&lt;/</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt; content&lt;/</span><span style="color: #E06C75">article</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">lazy-shared</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">non-standalone</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">article</span><span style="color: #ABB2BF">&gt;some &lt;</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt;</span><span style="color: #E06C75">&amp;#64;</span><span style="color: #ABB2BF">defer (on idle)&lt;/</span><span style="color: #E06C75">code</span><span style="color: #ABB2BF">&gt; content&lt;/</span><span style="color: #E06C75">article</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">non-standalone</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">h2</span><span style="color: #ABB2BF">&gt;pipe&lt;/</span><span style="color: #E06C75">h2</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #56B6C2">{{</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;Lazy loaded pipe here&#39;</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">|</span><span style="color: #ABB2BF"> StUpIdCaSe </span><span style="color: #56B6C2">}}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">h2</span><span style="color: #ABB2BF">&gt;directive&lt;/</span><span style="color: #E06C75">h2</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">highlight</span><span style="color: #ABB2BF">&gt;lazy loaded directive - I&#39;m highlighted lol ðŸ¥¹&lt;/</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">} </span><span style="color: #61AFEF">@placeholder </span><span style="color: #ABB2BF">(minimum </span><span style="color: #D19A66">500</span><span style="color: #ABB2BF">ms) { just wait for &lt;</span><span style="color: #E06C75">strong</span><span style="color: #ABB2BF">&gt;idle&lt;/</span><span style="color: #E06C75">strong</span><span style="color: #ABB2BF">&gt;... }</span></span>
<span class="line"><span style="color: #61AFEF">@loading </span><span style="color: #ABB2BF">(after </span><span style="color: #D19A66">100</span><span style="color: #ABB2BF">ms; minimum </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">s) {</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">app-loader</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">} </span><span style="color: #C678DD">@error</span><span style="color: #ABB2BF"> { something went wrong! }</span></span>
<span class="line"></span></code></pre>
